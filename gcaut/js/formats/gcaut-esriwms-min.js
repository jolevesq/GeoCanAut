(function(){define(["jquery-private","knockout","gcaut-func"],function(e,b,a){var d,c;d=function(f,l,m,i,r){var s,t,q,k,h,j,g,w,v,z,y,o=[],p=f.getElementsByTagName("Layer"),x=p[0].getElementsByTagName("Name")[0].innerHTML,u=p.length-1,n=0;while(n<=u){v=p[n+1];if(typeof e(v).attr("queryable")!=="undefined"){w={};z=v.getElementsByTagName("Name")[0].innerHTML;y=v.getElementsByTagName("Title")[0].innerHTML;w.name=z;w.fullname=x;w.url=m;w.id=y;w.scale={min:b.observable(-1).extend({numeric:{precision:0}}),max:b.observable(-1).extend({numeric:{precision:0}})};w.isChecked=b.observable(false);w.isUse=b.observable(false);w.cluster={enable:b.observable(false),distance:b.observable(50).extend({numeric:{precision:0}}),label:b.observable(false),symbol:b.observable(false),maxsizeprop:b.observable(50).extend({numeric:{precision:0}}),maxdataprop:b.observable(1000).extend({numeric:{precision:0}})};w.type=i;w.servLayers=[];w.isChecked=b.observable(false);w.isUse=b.observable(false);o.push(w)}n++}l.servLayers([]);l.servLayers(o);if(r==="base"){s=e(f.getElementsByTagName("BoundingBox")[1]);t=s.attr("CRS");q=parseInt(t.substring(t.indexOf(":")+1,t.length),10);l.selectMapSR(l.srType[a.getSrTypeIndex(l.srType,q)]);k=parseInt(s.attr("miny"),10);h=parseInt(s.attr("minx"),10);j=parseInt(s.attr("maxy"),10);g=parseInt(s.attr("maxx"),10);l.maxExtentMinX(k);l.maxExtentMinY(h);l.maxExtentMaxX(j);l.maxExtentMaxY(g);l.initExtentMinX(k);l.initExtentMinY(h);l.initExtentMaxX(j);l.initExtentMaxY(g);l.lods([])}};c=function(g,m,n,j){var t,u,s,l,i,k,h,f,v,r,q,w,o=[],p=g.getElementsByTagName("Layer"),x=g.getElementsByTagName("Title")[0].innerHTML;w={};w.name=x;w.fullname=x;w.url=n;w.id=x;w.scale={min:b.observable(-1).extend({numeric:{precision:0}}),max:b.observable(-1).extend({numeric:{precision:0}})};w.isChecked=b.observable(false);w.isUse=b.observable(false);w.type=j;w.servLayers=[];w.isChecked=b.observable(false);w.isUse=b.observable(false);o.push(w);m.servLayers([]);m.servLayers(o);t=e(g.getElementsByTagName("BoundingBox")[0]);u=t.attr("crs");s=parseInt(u.substring(u.indexOf("EPSG::")+1,u.length),10);m.selectMapSR(m.srType[a.getSrTypeIndex(m.srType,s)]);l=parseInt(t.attr("miny"),10);i=parseInt(t.attr("minx"),10);k=parseInt(t.attr("maxy"),10);h=parseInt(t.attr("maxx"),10);m.maxExtentMinX(l);m.maxExtentMinY(i);m.maxExtentMaxX(k);m.maxExtentMaxY(h);m.initExtentMinX(l);m.initExtentMinY(i);m.initExtentMaxX(k);m.initExtentMaxY(h);m.lods([])};return{readInfoWMS:d,readInfoWMTS:c}})}());